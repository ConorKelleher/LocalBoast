<!--- Autogenerated Readme. Do not edit. Edit the templates or config files instead. --->
<h1>useAnimationFrames</h1>
Hook to handle creation and cancellation of a recursive requestAnimationFrame loop.

Call the returned `start` function and provide a callback (which fires every time a new animation frame is created, passing back the progress [0..1]), and the total duration to run for.<br>
An `animating` boolean is also returned to let the caller know if the animation is in progress.<br>
A `stop` function is also returned to allow manually cancelling the animation loop. This is not required in most cases however, since any time a new invocation of `start` happens, the previous loop will cancel. Similarly, when the component unmounts, any running animations will also be cancelled.
<br>

<h4>See [examples and full documentation](https://localboast.com/docs?path=/docs/hooks-useanimationframes--docs)</h4>

Install the entire module as a dependency from npm as normal:

```bash
npm i localboast
# or
yarn add localboast
```

**Note**: As this library is intended to be all-inclusive, it has no dependencies other than peer-dependencies of `react` and `react-dom`. This means it should have minimal compatibility issues with any app.

## Usage

```javascript
import useAnimationFrames from "localboast/hooks/useAnimationFrames"
import { useEffect, useState } from "react"

const fullWidth = 500
const UseAnimationFramesDemo = () => {
  const [x, setX] = useState(0)
  const [destination, setDestination] = useState(fullWidth)
  const { start } = useAnimationFrames()

  // Will recursively create animation frames for 5 seconds, and call back progress
  useEffect(() => {
    start((progress) => {
      // Multiply progress by total distance to travel and set this as new x pos
      const distanceTravelled = progress * fullWidth
      setX(destination ? distanceTravelled : fullWidth - distanceTravelled)

      if (progress === 1) {
        // If reached end of animation, switch direction
        setDestination((destination) => (destination ? 0 : fullWidth))
      }
    }, 3000)
  }, [start, destination])

  return (
    <div style={{ position: "relative", width: fullWidth, height: 100 }}>
      <div
        style={{
          position: "absolute",
          backgroundColor: "#278fa1",
          height: 100,
          width: 100,
          top: 0,
          left: x,
        }}
      ></div>
    </div>
  )
}

export default UseAnimationFramesDemo

```
## Docs/Example

This library is developed and documented through storybook.
A static build of this storybook app can be found at https://LocalBoast.com/docs
(Note: that entire website is built as a showcase of sorts for the LocalBoast library, but the `/docs` route is a direct embed of the full storybook app).

While I intend on keeping the above public build up to date with the functionality of this library, I cannot guarantee that it'll always be up to date. If you need docs for the latest and greatest, you can run it locally by cloning this repository and running `yarn run storybook`

## Live Development

In an attempt to be somewhat unique, the development of this project is largely happening live on stream over on [Twitch](https://twitch.tv/localboast) or on [YouTube Live](http://youtube.com/channel/UCt-IaL4qQsOU6_rbS7zky1Q/live). A record of all past live streams and other video documentation can also be found at the above YouTube channel.

## Donations

I'm working on this instead of having a job that pays me. So for the time being, I'm going to be funded through generosity alone. If you're feeling generous, here are some links:

- [Buy me a Coffee](https://localboast.com/kofi) (Ko-fi - will show up on stream if I'm live)
- [Patreon](https://localboast.com/patreon)

## License

MIT Â© [ConorKelleher](https://github/com/ConorKelleher)