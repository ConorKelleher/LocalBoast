<!--- Autogenerated Readme. Do not edit. Edit the templates or config files instead. --->
<h1>useImageLoader</h1>
Hook to programmatically load a provided image src and find whether the image is still loading and if it's failed to load.
<br>

See the component-based solution: [ImageWithFallback](https://github.com/conorkelleher/localboast/tree/main/src/components/ImageWithFallback)<br><h4>See [examples and full documentation](https://localboast.com/docs?path=/docs/hooks-useimageloader--docs)</h4>

Install the entire module as a dependency from npm as normal:

```bash
npm i localboast
# or
yarn add localboast
```

**Note**: As this library is intended to be all-inclusive, it has no dependencies other than peer-dependencies of `react` and `react-dom`. This means it should have minimal compatibility issues with any app.

## Usage

```javascript
import useImageLoader, {
  USE_IMAGE_LOADER_DEFAULT_OPTIONS,
  UseImageLoaderOptions,
} from "localboast/hooks/useImageLoader"

interface UseImageLoaderDemoProps extends UseImageLoaderOptions {
  /**
   * Not a direct attribute of the hook. Simply here for the demo to replicate usage of the ImageWithFallback component
   */
  fallbackSrc?: string
}
const UseImageLoaderDemo = ({
  src,
  fallbackSrc,
  load,
}: UseImageLoaderDemoProps) => {
  const { loading, loaded, failedToLoad } = useImageLoader({ src, load })
  const cantLoadSrc = load && failedToLoad
  const shouldUseFallbackSrc = cantLoadSrc && !!fallbackSrc

  return (
    <div
      style={{ display: "flex", flexDirection: "column", alignItems: "center" }}
    >
      <span>
        Trying to load{" "}
        <a href={src} target="_blank" rel="noopener norefferer">
          this src
        </a>
        .
      </span>
      {cantLoadSrc ? (
        <span>
          Couldn't load it.{" "}
          {fallbackSrc ? (
            <>
              So loading{" "}
              <a href={fallbackSrc} target="_blank" rel="noopener norefferer">
                fallback
              </a>{" "}
              instead.
            </>
          ) : (
            "No fallback provided"
          )}
        </span>
      ) : null}
      <img
        src={shouldUseFallbackSrc ? fallbackSrc : src}
        height={100}
        width={100}
      />
      <span>
        <strong>loading: </strong>
        {loading.toString()}
      </span>
      <span>
        <strong>loaded: </strong>
        {loaded.toString()}
      </span>
      <span>
        <strong>failedToLoad: </strong>
        {failedToLoad.toString()}
      </span>
    </div>
  )
}

UseImageLoaderDemo.defaultProps = USE_IMAGE_LOADER_DEFAULT_OPTIONS

export default UseImageLoaderDemo

```
## Docs/Example

This library is developed and documented through storybook.
A static build of this storybook app can be found at https://LocalBoast.com/docs
(Note: that entire website is built as a showcase of sorts for the LocalBoast library, but the `/docs` route is a direct embed of the full storybook app).

While I intend on keeping the above public build up to date with the functionality of this library, I cannot guarantee that it'll always be up to date. If you need docs for the latest and greatest, you can run it locally by cloning this repository and running `yarn run storybook`

## Live Development

In an attempt to be somewhat unique, the development of this project is largely happening live on stream over on [Twitch](https://twitch.tv/localboast) or on [YouTube Live](http://youtube.com/channel/UCt-IaL4qQsOU6_rbS7zky1Q/live). A record of all past live streams and other video documentation can also be found at the above YouTube channel.

## Donations

I'm working on this instead of having a job that pays me. So for the time being, I'm going to be funded through generosity alone. If you're feeling generous, here are some links:

- [Buy me a Coffee](https://localboast.com/kofi) (Ko-fi - will show up on stream if I'm live)
- [Patreon](https://localboast.com/patreon)

## License

MIT Â© [ConorKelleher](https://github/com/ConorKelleher)